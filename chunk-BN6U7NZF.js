import{a as Q}from"./chunk-6DVNAZNW.js";import{a as U}from"./chunk-D5EQWH25.js";import"./chunk-TNI5SOW6.js";import{b as T,c as y,d as k,e as g,h as R,i as $,l as G,o as V,p as P}from"./chunk-DCDN6MXI.js";import{$a as S,Ca as K,Fa as o,G as D,Ga as C,Ra as v,Ta as s,Y as f,Ya as l,Za as a,_a as d,ab as E,bb as I,cb as x,da as j,db as p,ea as w,fa as M,fb as N,gb as X,hb as L,ib as c,jb as h,kb as b,la as z,pb as u}from"./chunk-7JH22RSN.js";var H=["data-ng-comp","movie-credits"];function J(e,t){if(e&1&&(l(0,"li"),c(1),a()),e&2){let i=t.$implicit;o(),h(i.name.trim())}}function W(e,t){if(e&1&&(S(0),l(1,"h3",3),c(2,"Director"),a(),l(3,"ul",4),v(4,J,2,1,"li",5),a(),E()),e&2){let i=p();o(4),s("ngForOf",i.dirs)}}function Z(e,t){if(e&1&&(l(0,"li"),c(1),a()),e&2){let i=t.$implicit;o(),h(i.name.trim())}}function ee(e,t){if(e&1&&(S(0),l(1,"h3",3),c(2,"Screenplay"),a(),l(3,"ul",4),v(4,Z,2,1,"li",5),a(),E()),e&2){let i=p();o(4),s("ngForOf",i.scrs)}}function te(e,t){if(e&1&&(l(0,"li"),c(1),a()),e&2){let i=t.$implicit;o(),h(i.name.trim())}}function ie(e,t){if(e&1&&(S(0),l(1,"h3",3),c(2,"Starring"),a(),l(3,"ul",4),v(4,te,2,1,"li",5),a(),E()),e&2){let i=p();o(4),s("ngForOf",i.cast)}}var A=(()=>{let t=class t{constructor(){this.credits=[],this.dirs=[],this.scrs=[],this.cast=[]}ngOnInit(){this.dirs=this.credits.crew.filter(m=>m.job=="Director").slice(0,5),this.scrs=this.credits.crew.filter(m=>m.job=="Screenplay").slice(0,5),this.cast=this.credits.cast.slice(0,10)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["","data-ng-comp","movie-credits"]],inputs:{credits:"credits"},standalone:!0,features:[u],attrs:H,decls:6,vars:3,consts:[[1,"movie-credits"],[1,"mb-4"],[4,"ngIf"],[1,"h4"],[1,"list-unstyled"],[4,"ngFor","ngForOf"]],template:function(r,n){r&1&&(l(0,"section",0)(1,"h2",1),c(2,"Credits"),a(),v(3,W,5,1,"ng-container",2)(4,ee,5,1,"ng-container",2)(5,ie,5,1,"ng-container",2),a()),r&2&&(o(3),s("ngIf",n.dirs.length>0),o(),s("ngIf",n.scrs.length>0),o(),s("ngIf",n.cast.length>0))},dependencies:[g,y,k],styles:[`.movie-credits{padding:1.25rem 1rem 1rem 1.5rem;height:100%;background-color:#f9f9ff;border-left:7px solid #8163af}.movie-credits ul li{display:inline;padding:.2rem 0}.movie-credits ul li:after{content:", "}.movie-credits ul li:last-child:after{content:". "}
`],encapsulation:2});let e=t;return e})();var ne=["modalVideo"],oe=["data-ng-comp","modal-video"],Y=(()=>{let t=class t{constructor(m){this.sanitizer=m,this.title="",this.key="",this.resetKey=new z,this.url="https://www.youtube-nocookie.com/embed/",this.src=""}ngOnChanges(m){m.key&&(this.key==""?this.src=this.sanitizer.bypassSecurityTrustResourceUrl(""):this.src=this.sanitizer.bypassSecurityTrustResourceUrl(this.url+this.key))}ngAfterViewChecked(){this.mdlVideo.nativeElement.addEventListener("hide.bs.modal",()=>{this.resetKey.emit()})}};t.\u0275fac=function(r){return new(r||t)(C(R))},t.\u0275cmp=f({type:t,selectors:[["","data-ng-comp","modal-video"]],viewQuery:function(r,n){if(r&1&&N(ne,5),r&2){let _;X(_=L())&&(n.mdlVideo=_.first)}},inputs:{title:"title",key:"key"},outputs:{resetKey:"resetKey"},standalone:!0,features:[j,u],attrs:oe,decls:11,vars:3,consts:[["modalVideo",""],["id","modalVideo","tabindex","-1","aria-labelledby","modalVideoLabel","aria-hidden","true",1,"modal","modal-video","fade"],[1,"modal-dialog","modal-dialog-centered","modal-xl"],[1,"modal-content"],[1,"modal-body","p-0"],[1,"ratio","ratio-16x9"],["allow","encrypted-media; web-share","referrerpolicy","strict-origin-when-cross-origin","loading","lazy","allowfullscreen","",3,"src","title"],[1,"modal-footer","justify-content-between"],["id","modalVideoLabel",1,"modal-title","fs-5","me-3"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"]],template:function(r,n){if(r&1){let _=I();l(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),d(6,"iframe",6),a()(),l(7,"div",7)(8,"h1",8),c(9),a(),l(10,"button",9),x("click",function(){return w(_),M(n.resetKey.emit())}),a()()()()()}r&2&&(o(6),s("src",n.src,K)("title",n.title+" movie trailer on YouTube"),o(3),b(" ",n.title," "))},styles:[`.modal-video .modal-body{background-color:#202020}
`],encapsulation:2});let e=t;return e})();var re=["data-ng-comp","movie-trailer"];function ae(e,t){if(e&1){let i=I();l(0,"li",5)(1,"a",6),x("click",function(){let r=w(i).$implicit,n=p();return M(n.key=r.key)}),d(2,"div",7),a()()}if(e&2){let i=t.index,m=p();o(),s("ngClass","trailer-"+(i+1)),o(),s("src",m.poster)("title",m.title)}}var q=(()=>{let t=class t{constructor(){this.title="",this.poster="",this.videos=[],this.key=""}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["","data-ng-comp","movie-trailer"]],inputs:{title:"title",poster:"poster",videos:"videos"},standalone:!0,features:[u],attrs:re,decls:6,vars:3,consts:[[1,"movie-trailer"],[1,"visually-hidden"],[1,"list-unstyled","g-0","row","row-cols-1","row-cols-md-2"],["class","col",4,"ngFor","ngForOf"],["data-ng-comp","modal-video",3,"resetKey","title","key"],[1,"col"],["href","#modalVideo","data-bs-toggle","modal","data-bs-target","#modalVideo",1,"has-figure","has-trailer",3,"click","ngClass"],["data-ng-comp","image","ratio","landscape","caption","hdn",3,"src","title"]],template:function(r,n){r&1&&(l(0,"section",0)(1,"h2",1),c(2,"Trailers"),a(),l(3,"ul",2),v(4,ae,3,3,"li",3),a()(),l(5,"div",4),x("resetKey",function(){return n.key=""}),a()),r&2&&(o(4),s("ngForOf",n.videos),o(),s("title",n.title)("key",n.key))},dependencies:[g,T,y,V,Y],styles:[`.movie-trailer{height:100%}.movie-trailer ul{height:100%;background-color:#e9e0e0}.movie-trailer .has-trailer{position:relative}.movie-trailer .has-trailer:before,.movie-trailer .has-trailer:after{position:absolute;top:50%;left:50%;z-index:2;height:72px;width:72px;display:flex;justify-content:center;align-items:center;font-size:36px;color:#fff}.movie-trailer .has-trailer:before{transform:translate(calc(-50% - 36px),-50%);background-color:#e00020bf;font-family:bootstrap-icons;content:"\\f62b"}.movie-trailer .has-trailer:after{transform:translate(calc(-50% + 36px),-50%);background-color:#2000e0bf;font-weight:700}.movie-trailer .trailer-1:after{content:"1"}.movie-trailer .trailer-2:after{content:"2"}.movie-trailer .trailer-3:after{content:"3"}.movie-trailer .trailer-4:after{content:"4"}
`],encapsulation:2});let e=t;return e})();var se=["data-ng-comp","persons-grid"];function le(e,t){if(e&1&&(l(0,"li",3)(1,"a",4),d(2,"div",5),a()()),e&2){let i=t.$implicit;o(),s("routerLink","/person/"+i.id),o(),s("src",i.profile_path)("title",i.name)("text",i.character||i.job)}}var B=(()=>{let t=class t{constructor(){this.title="Persons",this.persons=[],this.colsMd=4,this.colsXl=6}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["","data-ng-comp","persons-grid"]],inputs:{title:"title",persons:"persons",colsMd:"colsMd",colsXl:"colsXl"},standalone:!0,features:[u],attrs:se,decls:5,vars:3,consts:[[1,"has-persons","py-2"],[1,"list-unstyled","my-0","row","g-0","row-cols-1","row-cols-sm-2",3,"ngClass"],["class","col-md-4 col-lg-2 has-person",4,"ngFor","ngForOf"],[1,"col-md-4","col-lg-2","has-person"],["href","#",1,"has-figure",3,"routerLink"],["data-ng-comp","image","ratio","portrait","caption","stc",3,"src","title","text"]],template:function(r,n){r&1&&(l(0,"section",0)(1,"h2"),c(2),a(),l(3,"ul",1),v(4,le,3,4,"li",2),a()()),r&2&&(o(2),h(n.title),o(),s("ngClass","row-cols-md-"+n.colsMd+" row-cols-xl-"+n.colsXl),o(),s("ngForOf",n.persons))},dependencies:[g,T,y,G,V],encapsulation:2});let e=t;return e})();var me=["data-ng-view","movie"];function ce(e,t){if(e&1&&(l(0,"div",15),d(1,"div",16),a()),e&2){let i=p(2);o(),s("credits",i.movie.credits)}}function de(e,t){if(e&1&&(l(0,"div",17),d(1,"div",18),a()),e&2){let i=p(2);o(),s("title",i.movie.title)("videos",i.movieTrailer)("poster",i.movie.images.backdrops.length>0?i.movie.images.backdrops[0].file_path:null)}}function pe(e,t){if(e&1&&(l(0,"div",11)(1,"div",12),v(2,ce,2,1,"div",13)(3,de,2,3,"div",14),a()()),e&2){let i=p();o(2),s("ngIf",i.movie.credits.crew.length>0||i.movie.credits.cast.length>0),o(),s("ngIf",i.movieTrailer.length>0)}}function ve(e,t){if(e&1&&d(0,"div",19),e&2){let i=p();s("title",i.movie.title)("images",i.movie.images.backdrops.slice(1,13))("colsMd",2)("colsXl",4)}}function fe(e,t){if(e&1&&d(0,"div",20),e&2){let i=p();s("title","Cast")("persons",i.movie.credits.cast.slice(0,24))}}function ue(e,t){if(e&1&&d(0,"div",20),e&2){let i=p();s("title","Crew")("persons",i.movie.credits.crew.slice(0,12))}}var Pe=(()=>{let t=class t{constructor(m,r){this.getData=m,this.route=r,this.movie={},this.movieTrailer=[]}ngOnInit(){let m=this.route.snapshot.paramMap.get("id");this.getData.list("movie/"+m+"?append_to_response=credits,images,videos").pipe(D(2)).subscribe(r=>(this.movie=r,this.movieTrailer=this.movie.videos.results.filter(n=>n.site=="YouTube"&&n.official==!0).slice(0,4)))}};t.\u0275fac=function(r){return new(r||t)(C(P),C($))},t.\u0275cmp=f({type:t,selectors:[["div","data-ng-view","movie"]],standalone:!0,features:[u],attrs:me,decls:14,vars:7,consts:[["data-ng-comp","movie-big-hero",3,"movie"],[1,"mb-5","py-5","text-center","bg-body-tertiary"],[1,"container","pt-5","pb-3"],[1,"row"],[1,"col-12","visually-hidden"],[1,"col-lg-10","mx-auto","lead","fw-medium"],[1,"border","border-primary","border-3","opacity-75","w-25","mx-auto"],["class","container mt-5",4,"ngIf"],[1,"container","my-4"],["data-ng-comp","images-gallery","ratio","landscape","caption","hdn",3,"title","images","colsMd","colsXl",4,"ngIf"],["data-ng-comp","persons-grid","class","d-block my-3",3,"title","persons",4,"ngIf"],[1,"container","mt-5"],[1,"row","g-0"],["class","col-lg",4,"ngIf"],["class","col-lg-6",4,"ngIf"],[1,"col-lg"],["data-ng-comp","movie-credits",3,"credits"],[1,"col-lg-6"],["data-ng-comp","movie-trailer",3,"title","videos","poster"],["data-ng-comp","images-gallery","ratio","landscape","caption","hdn",3,"title","images","colsMd","colsXl"],["data-ng-comp","persons-grid",1,"d-block","my-3",3,"title","persons"]],template:function(r,n){r&1&&(d(0,"div",0),l(1,"article",1)(2,"div",2)(3,"div",3)(4,"h2",4),c(5),a(),l(6,"p",5),c(7),a()(),d(8,"hr",6),a()(),v(9,pe,4,2,"div",7),l(10,"div",8),v(11,ve,1,4,"div",9)(12,fe,1,2,"div",10)(13,ue,1,2,"div",10),a()),r&2&&(s("movie",n.movie),o(5),b(" ",n.movie.title," movie's overview "),o(2),b(" ",n.movie.overview," "),o(2),s("ngIf",n.movie.credits!=null||n.movieTrailer.length>0),o(2),s("ngIf",n.movie.images!=null&&n.movie.images.backdrops.length>0),o(),s("ngIf",n.movie.credits!=null&&n.movie.credits.cast.length>0),o(),s("ngIf",n.movie.credits!=null&&n.movie.credits.crew.length>0))},dependencies:[g,k,Q,A,q,U,B],encapsulation:2});let e=t;return e})();export{Pe as ViewMovieComponent};
