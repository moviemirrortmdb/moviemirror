import{a as G}from"./chunk-5XSZSAOV.js";import{a as U}from"./chunk-ISGZ4SGV.js";import"./chunk-TNI5SOW6.js";import{b as T,c as h,d as E,e as u,h as L,i as R,l as $,o as k,p as Q}from"./chunk-LY2TIMCI.js";import{$a as S,Ca as z,Fa as o,G as P,Ga as C,Ra as f,Ta as s,Y as v,Ya as l,Za as a,_a as m,ab as I,bb as O,cb as x,da as D,db as p,ea as b,fa as w,fb as K,gb as N,hb as X,ib as d,jb as _,kb as M,la as j,pb as g}from"./chunk-7JH22RSN.js";var H=["data-ng-movie-credits",""];function J(e,t){if(e&1&&(l(0,"li"),d(1),a()),e&2){let i=t.$implicit;o(),_(i.name.trim())}}function W(e,t){if(e&1&&(S(0),l(1,"h3",2),d(2,"Director"),a(),l(3,"ul",3),f(4,J,2,1,"li",4),a(),I()),e&2){let i=p();o(4),s("ngForOf",i.dirs)}}function Z(e,t){if(e&1&&(l(0,"li"),d(1),a()),e&2){let i=t.$implicit;o(),_(i.name.trim())}}function ee(e,t){if(e&1&&(S(0),l(1,"h3",2),d(2,"Screenplay"),a(),l(3,"ul",3),f(4,Z,2,1,"li",4),a(),I()),e&2){let i=p();o(4),s("ngForOf",i.scrs)}}function te(e,t){if(e&1&&(l(0,"li"),d(1),a()),e&2){let i=t.$implicit;o(),_(i.name.trim())}}function ie(e,t){if(e&1&&(S(0),l(1,"h3",2),d(2,"Starring"),a(),l(3,"ul",3),f(4,te,2,1,"li",4),a(),I()),e&2){let i=p();o(4),s("ngForOf",i.cast)}}var A=(()=>{let t=class t{constructor(){this.credits=[],this.dirs=[],this.scrs=[],this.cast=[]}ngOnInit(){this.dirs=this.credits.crew.filter(c=>c.job=="Director").slice(0,5),this.scrs=this.credits.crew.filter(c=>c.job=="Screenplay").slice(0,5),this.cast=this.credits.cast.slice(0,10)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=v({type:t,selectors:[["div","data-ng-movie-credits",""]],inputs:{credits:"credits"},standalone:!0,features:[g],attrs:H,decls:6,vars:3,consts:[[1,"mb-4"],[4,"ngIf"],[1,"h4"],[1,"list-unstyled"],[4,"ngFor","ngForOf"]],template:function(r,n){r&1&&(l(0,"section")(1,"h2",0),d(2,"Credits"),a(),f(3,W,5,1,"ng-container",1)(4,ee,5,1,"ng-container",1)(5,ie,5,1,"ng-container",1),a()),r&2&&(o(3),s("ngIf",n.dirs.length>0),o(),s("ngIf",n.scrs.length>0),o(),s("ngIf",n.cast.length>0))},dependencies:[u,h,E],styles:['section[_ngcontent-%COMP%]{padding:1.25rem 1rem 1rem 1.5rem;height:100%;background-color:#f9f9ff;border-left:7px solid #8163af}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;padding:.2rem 0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:", "}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child:after{content:". "}']});let e=t;return e})();var ne=["modalVideo"],oe=["data-ng-modal-video",""],Y=(()=>{let t=class t{constructor(c){this.sanitizer=c,this.title="",this.key="",this.resetKey=new j,this.url="https://www.youtube-nocookie.com/embed/",this.src=""}ngOnChanges(c){c.key&&(this.key==""?this.src=this.sanitizer.bypassSecurityTrustResourceUrl(""):this.src=this.sanitizer.bypassSecurityTrustResourceUrl(this.url+this.key))}ngAfterViewChecked(){this.mdlVideo.nativeElement.addEventListener("hide.bs.modal",()=>{this.resetKey.emit()})}};t.\u0275fac=function(r){return new(r||t)(C(L))},t.\u0275cmp=v({type:t,selectors:[["div","data-ng-modal-video",""]],viewQuery:function(r,n){if(r&1&&K(ne,5),r&2){let y;N(y=X())&&(n.mdlVideo=y.first)}},inputs:{title:"title",key:"key"},outputs:{resetKey:"resetKey"},standalone:!0,features:[D,g],attrs:oe,decls:11,vars:3,consts:[["modalVideo",""],["id","modalVideo","tabindex","-1","aria-labelledby","modalVideoLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-xl"],[1,"modal-content"],[1,"modal-body","p-0"],[1,"ratio","ratio-16x9"],["allow","encrypted-media; web-share","referrerpolicy","strict-origin-when-cross-origin","loading","lazy","allowfullscreen","",3,"src","title"],[1,"modal-footer","justify-content-between"],["id","modalVideoLabel",1,"modal-title","fs-5","me-3"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"]],template:function(r,n){if(r&1){let y=O();l(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),m(6,"iframe",6),a()(),l(7,"div",7)(8,"h1",8),d(9),a(),l(10,"button",9),x("click",function(){return b(y),w(n.resetKey.emit())}),a()()()()()}r&2&&(o(6),s("src",n.src,z)("title",n.title+" movie trailer on YouTube"),o(3),M(" ",n.title," "))},styles:[".modal-body[_ngcontent-%COMP%]{background-color:#202020}"]});let e=t;return e})();var re=["data-ng-movie-trailer",""];function ae(e,t){if(e&1){let i=O();l(0,"li",4)(1,"a",5),x("click",function(){let r=b(i).$implicit,n=p();return w(n.key=r.key)}),m(2,"div",6),a()()}if(e&2){let i=t.index,c=p();o(),s("ngClass","trailer-"+(i+1)),o(),s("src",c.poster)("title",c.title)}}var q=(()=>{let t=class t{constructor(){this.title="",this.poster="",this.videos=[],this.key=""}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=v({type:t,selectors:[["div","data-ng-movie-trailer",""]],inputs:{title:"title",poster:"poster",videos:"videos"},standalone:!0,features:[g],attrs:re,decls:6,vars:3,consts:[[1,"visually-hidden"],[1,"list-unstyled","g-0","row","row-cols-1","row-cols-md-2"],["class","col",4,"ngFor","ngForOf"],["data-ng-modal-video","",3,"resetKey","title","key"],[1,"col"],["href","#modalVideo","data-bs-toggle","modal","data-bs-target","#modalVideo",1,"has-figure","has-trailer",3,"click","ngClass"],["data-ng-image","","ratio","landscape","caption","hdn",3,"src","title"]],template:function(r,n){r&1&&(l(0,"section")(1,"h2",0),d(2,"Trailers"),a(),l(3,"ul",1),f(4,ae,3,3,"li",2),a()(),l(5,"div",3),x("resetKey",function(){return n.key=""}),a()),r&2&&(o(4),s("ngForOf",n.videos),o(),s("title",n.title)("key",n.key))},dependencies:[u,T,h,k,Y],styles:['section[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{height:100%}ul[_ngcontent-%COMP%]{background-color:#e9e0e0}.has-trailer[_ngcontent-%COMP%]{position:relative}.has-trailer[_ngcontent-%COMP%]:before, .has-trailer[_ngcontent-%COMP%]:after{position:absolute;top:50%;left:50%;z-index:2;height:72px;width:72px;display:flex;justify-content:center;align-items:center;font-size:36px;color:#fff}.has-trailer[_ngcontent-%COMP%]:before{transform:translate(calc(-50% - 36px),-50%);background-color:#e00020bf;font-family:bootstrap-icons;content:"\\f62b"}.has-trailer[_ngcontent-%COMP%]:after{transform:translate(calc(-50% + 36px),-50%);background-color:#2000e0bf;font-weight:700}.trailer-1[_ngcontent-%COMP%]:after{content:"1"}.trailer-2[_ngcontent-%COMP%]:after{content:"2"}.trailer-3[_ngcontent-%COMP%]:after{content:"3"}.trailer-4[_ngcontent-%COMP%]:after{content:"4"}']});let e=t;return e})();var se=["data-ng-persons-grid",""];function le(e,t){if(e&1&&(l(0,"li",3)(1,"a",4),m(2,"div",5),a()()),e&2){let i=t.$implicit;o(),s("routerLink","/person/"+i.id),o(),s("src",i.profile_path)("title",i.name)("text",i.character||i.job)}}var B=(()=>{let t=class t{constructor(){this.title="Persons",this.persons=[],this.colsMd=4,this.colsXl=6}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=v({type:t,selectors:[["div","data-ng-persons-grid",""]],inputs:{title:"title",persons:"persons",colsMd:"colsMd",colsXl:"colsXl"},standalone:!0,features:[g],attrs:se,decls:5,vars:3,consts:[[1,"my-4","py-2"],[1,"list-unstyled","row","g-0","row-cols-1","row-cols-sm-2",3,"ngClass"],["class","col-md-4 col-lg-2 has-person",4,"ngFor","ngForOf"],[1,"col-md-4","col-lg-2","has-person"],["href","#",1,"has-figure",3,"routerLink"],["data-ng-image","","ratio","portrait","caption","stc",3,"src","title","text"]],template:function(r,n){r&1&&(l(0,"section",0)(1,"h2"),d(2),a(),l(3,"ul",1),f(4,le,3,4,"li",2),a()()),r&2&&(o(2),_(n.title),o(),s("ngClass","row-cols-md-"+n.colsMd+" row-cols-xl-"+n.colsXl),o(),s("ngForOf",n.persons))},dependencies:[u,T,h,$,k]});let e=t;return e})();var ce=["data-ng-view-movie",""];function de(e,t){if(e&1&&(l(0,"div",15),m(1,"div",16),a()),e&2){let i=p(2);o(),s("credits",i.movie.credits)}}function me(e,t){if(e&1&&(l(0,"div",17),m(1,"div",18),a()),e&2){let i=p(2);o(),s("title",i.movie.title)("videos",i.movieTrailer)("poster",i.movie.images.backdrops[0].file_path)}}function pe(e,t){if(e&1&&(l(0,"div",11)(1,"div",12),f(2,de,2,1,"div",13)(3,me,2,3,"div",14),a()()),e&2){let i=p();o(2),s("ngIf",i.movie.credits.crew.length>0||i.movie.credits.cast.length>0),o(),s("ngIf",i.movieTrailer.length>0)}}function fe(e,t){if(e&1&&m(0,"div",19),e&2){let i=p();s("title",i.movie.title)("images",i.movie.images.backdrops.slice(1,13))("colsMd",2)("colsXl",4)}}function ve(e,t){if(e&1&&m(0,"div",20),e&2){let i=p();s("title","Cast")("persons",i.movie.credits.cast.slice(0,24))}}function ge(e,t){if(e&1&&m(0,"div",20),e&2){let i=p();s("title","Crew")("persons",i.movie.credits.crew.slice(0,12))}}var Ge=(()=>{let t=class t{constructor(c,r){this.getData=c,this.route=r,this.movie={},this.movieTrailer=[]}ngOnInit(){let c=this.route.snapshot.paramMap.get("id");this.getData.list("movie/"+c+"?append_to_response=credits,images,videos").pipe(P(2)).subscribe(r=>(this.movie=r,this.movieTrailer=this.movie.videos.results.filter(n=>n.site=="YouTube"&&n.official==!0).slice(0,4)))}};t.\u0275fac=function(r){return new(r||t)(C(Q),C(R))},t.\u0275cmp=v({type:t,selectors:[["div","data-ng-view-movie",""]],standalone:!0,features:[g],attrs:ce,decls:14,vars:7,consts:[["data-ng-movie-big-hero","",3,"movie"],[1,"mb-5","py-5","text-center","bg-body-tertiary"],[1,"container","pt-5","pb-3"],[1,"row"],[1,"col-12","visually-hidden"],[1,"col-lg-10","mx-auto","lead","fw-medium"],[1,"border","border-primary","border-3","opacity-75","w-25","mx-auto"],["class","container mt-5",4,"ngIf"],[1,"container","my-5"],["data-ng-images-gallery","","ratio","landscape","caption","hdn",3,"title","images","colsMd","colsXl",4,"ngIf"],["data-ng-persons-grid","",3,"title","persons",4,"ngIf"],[1,"container","mt-5"],[1,"row","g-0"],["class","col-lg",4,"ngIf"],["class","col-lg-6",4,"ngIf"],[1,"col-lg"],["data-ng-movie-credits","",3,"credits"],[1,"col-lg-6"],["data-ng-movie-trailer","",3,"title","videos","poster"],["data-ng-images-gallery","","ratio","landscape","caption","hdn",3,"title","images","colsMd","colsXl"],["data-ng-persons-grid","",3,"title","persons"]],template:function(r,n){r&1&&(m(0,"div",0),l(1,"article",1)(2,"div",2)(3,"div",3)(4,"h2",4),d(5),a(),l(6,"p",5),d(7),a()(),m(8,"hr",6),a()(),f(9,pe,4,2,"div",7),l(10,"div",8),f(11,fe,1,4,"div",9)(12,ve,1,2,"div",10)(13,ge,1,2,"div",10),a()),r&2&&(s("movie",n.movie),o(5),M(" ",n.movie.title," movie's overview "),o(2),M(" ",n.movie.overview," "),o(2),s("ngIf",n.movie.credits!=null||n.movieTrailer.length>0),o(2),s("ngIf",n.movie.images!=null&&n.movie.images.backdrops.length>0),o(),s("ngIf",n.movie.credits!=null&&n.movie.credits.cast.length>0),o(),s("ngIf",n.movie.credits!=null&&n.movie.credits.crew.length>0))},dependencies:[u,E,G,A,q,U,B]});let e=t;return e})();export{Ge as ViewMovieComponent};
